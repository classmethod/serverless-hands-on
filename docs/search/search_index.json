{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Serverless \u30cf\u30f3\u30ba\u30aa\u30f3 \u4f5c\u6210\u4e2d","title":"Serverless \u30cf\u30f3\u30ba\u30aa\u30f3"},{"location":"#serverless","text":"\u4f5c\u6210\u4e2d","title":"Serverless \u30cf\u30f3\u30ba\u30aa\u30f3"},{"location":"setup/cloud9/","text":"Cloud9\u306b\u3088\u308b\u74b0\u5883\u306e\u6e96\u5099 Cloud9\u3068\u306f AWS\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u30af\u30e9\u30a6\u30c9\u4e0a\u3067\u52d5\u304f\uff64\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\u74b0\u5883\u3067\u3059\uff61 \u30b3\u30fc\u30c9\u30a8\u30c7\u30a3\u30bf\u3068\u958b\u767a\u74b0\u5883\u304cWeb\u4e0a\u304b\u3089\u4f7f\u3048\u307e\u3059\uff61 AWS CLI\u3068AWS SAM CLI\u306a\u3069AWS\u3092\u4f7f\u3063\u305f\u958b\u767a\u306b\u5fc5\u8981\u306a\u30c4\u30fc\u30eb\u3084\u57fa\u672c\u7684\u306a\u8a00\u8a9e\u74b0\u5883\u304c \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3059\uff61 AWS Cloud9\uff08Cloud IDE \u3067\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3001\u5b9f\u884c\u3001\u30c7\u30d0\u30c3\u30b0\uff09| AWS \u306a\u305c\u4eca\u56deCloud9\u3092\u4f7f\u3046\u304b \u6700\u521d\u304b\u3089AWS\u3092\u4f7f\u3063\u305f\u958b\u767a\u306b\u5fc5\u8981\u306a\u30c4\u30fc\u30eb\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b \u74b0\u5883\u306e\u6e96\u5099\u3068\u3044\u3046\u672c\u8cea\u7684\u3067\u306a\u3044\u6240\u3067\u3064\u307e\u3065\u3044\u3066\u6b32\u3057\u304f\u306a\u3044 \u30cf\u30f3\u30ba\u30aa\u30f3\u306e\u6027\u8cea\u4e0a\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u3092\u7d71\u4e00\u3067\u304d\u306a\u3044 \u5f0a\u793e\u3067\u5b9f\u7e3e\u306f\u3042\u308a\u307e\u305b\u3093\u304c\uff64\u5b9f\u969b\u306b\u30d7\u30ed\u30c0\u30af\u30c8\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u4f8b\u306f\u3042\u308a\u307e\u3059\uff61 \u30e6\u30fc\u30b6\u30fc\u4f01\u696d\u306b\u304a\u3051\u308b\u30b5\u30fc\u30d0\u30ec\u30b9\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u79fb\u884c/JAWS DAYS2018 Cloud9 Environment\u306e\u4f5c\u6210 Warning \u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u53f3\u4e0a\u3067\uff64 \u30ea\u30fc\u30b8\u30e7\u30f3\u304c \u6771\u4eac(ap-northeast-1) \u306b\u306a\u3063\u3066\u3044\u308b\u4e8b\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff61 Info Safari\u3067Cloud9\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306b\u306f\uff64 \u30b5\u30a4\u30c8\u8d8a\u3048\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u3092\u9632\u3050 \u3068 \u3059\u3079\u3066\u306eCookie\u3092\u30d6\u30ed\u30c3\u30af \u3092\u7121\u52b9\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff61 Mac \u306e Safari \u3067 Cookie \u3068 Web \u30b5\u30a4\u30c8\u306e\u30c7\u30fc\u30bf\u3092\u7ba1\u7406\u3059\u308b AWS Cloud9 \u3092\u958b\u304f Create environment \u3092\u9078\u629e\u3057\u307e\u3059\uff61 \u74b0\u5883\u3092\u8a2d\u5b9a\u3057\uff64 Next step \u3092\u9078\u629e\u3057\u307e\u3059\uff61 Name: sls-hands-on Description: \u4f55\u3082\u5165\u529b\u3057\u306a\u3044 \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u306e\u307e\u307e\uff64 Next step \u3092\u9078\u629e\u3057\u307e\u3059\uff61 Environment type: Create a new instance for environment (EC2) Instance type: t2.micro (1 GiB RAM + 1 vCPU) Platform: Amazon Linux Cost-saving setting: Afrer 30minutes(default) IAM role: AWSServiceRoleForAWSCloud9 \u8a2d\u5b9a\u3092\u78ba\u8a8d\u3057\uff64 Create environment \u3092\u9078\u629e\u3057\u307e\u3059\uff61 Cloud9\u304c\u8d77\u52d5\u3057\u307e\u3059\uff61 Info Cloud9\u3092\u958b\u3044\u3066\u3044\u308b\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u9589\u3058\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u306f\uff64\u518d\u5ea6 AWS Cloud9 \u3092\u958b\u304d\uff64 sls-hands-on \u306e Open IDE \u3092\u9078\u629e\u3057\u307e\u3059\uff61 Python3\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a Cloud9(Amazon Linux)\u3067\u306f\uff64Python3\u7cfb\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\uff64pip\u306fPython2\u7cfb\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff61 2019/09/18\u6642\u70b9\u306e\u78ba\u8a8d python --version # Python 3 . 6 . 8 pip --version # pip 9 . 0 . 3 from / usr / lib / python2 . 7 / dist - packages ( python 2 . 7 ) \u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u306fPython3\u7cfb\u3092\u4f7f\u7528\u3059\u308b\u306e\u3067\uff64\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\uff61 \u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\uff61 sudo update - alternatives --config python Python3\u7cfb\u3092\u9078\u629e\u3057\u307e\u3059\uff61(\u4e0b\u8a18\u306e\u5834\u5408\u306f2) There are 2 programs which provide 'python' . Selection Command ----------------------------------------------- *+ 1 / usr / bin / python2 . 7 2 / usr / bin / python3 . 6 Enter to keep the current selection [ + ], or type selection number : 2 \u30d0\u30fc\u30b8\u30e7\u30f3\u304cPython3\u7cfb\u306b\u306a\u3063\u3066\u3044\u308b\u4e8b\u3092\u78ba\u8a8d\u3057\u307e\u3059\uff61 python --version pip --version (\u4f8b) Python 3 . 6 . 8 pip 9 . 0 . 3 from / usr / lib / python3 . 6 / dist - packages ( python 3 . 6 )","title":"\u74b0\u5883\u69cb\u7bc9"},{"location":"setup/cloud9/#cloud9","text":"","title":"Cloud9\u306b\u3088\u308b\u74b0\u5883\u306e\u6e96\u5099"},{"location":"setup/cloud9/#cloud9_1","text":"AWS\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b\u30af\u30e9\u30a6\u30c9\u4e0a\u3067\u52d5\u304f\uff64\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u958b\u767a\u74b0\u5883\u3067\u3059\uff61 \u30b3\u30fc\u30c9\u30a8\u30c7\u30a3\u30bf\u3068\u958b\u767a\u74b0\u5883\u304cWeb\u4e0a\u304b\u3089\u4f7f\u3048\u307e\u3059\uff61 AWS CLI\u3068AWS SAM CLI\u306a\u3069AWS\u3092\u4f7f\u3063\u305f\u958b\u767a\u306b\u5fc5\u8981\u306a\u30c4\u30fc\u30eb\u3084\u57fa\u672c\u7684\u306a\u8a00\u8a9e\u74b0\u5883\u304c \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u3067\u3059\uff61 AWS Cloud9\uff08Cloud IDE \u3067\u30b3\u30fc\u30c9\u3092\u8a18\u8ff0\u3001\u5b9f\u884c\u3001\u30c7\u30d0\u30c3\u30b0\uff09| AWS","title":"Cloud9\u3068\u306f"},{"location":"setup/cloud9/#cloud9_2","text":"\u6700\u521d\u304b\u3089AWS\u3092\u4f7f\u3063\u305f\u958b\u767a\u306b\u5fc5\u8981\u306a\u30c4\u30fc\u30eb\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b \u74b0\u5883\u306e\u6e96\u5099\u3068\u3044\u3046\u672c\u8cea\u7684\u3067\u306a\u3044\u6240\u3067\u3064\u307e\u3065\u3044\u3066\u6b32\u3057\u304f\u306a\u3044 \u30cf\u30f3\u30ba\u30aa\u30f3\u306e\u6027\u8cea\u4e0a\u30ed\u30fc\u30ab\u30eb\u30de\u30b7\u30f3\u3092\u7d71\u4e00\u3067\u304d\u306a\u3044 \u5f0a\u793e\u3067\u5b9f\u7e3e\u306f\u3042\u308a\u307e\u305b\u3093\u304c\uff64\u5b9f\u969b\u306b\u30d7\u30ed\u30c0\u30af\u30c8\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u4f8b\u306f\u3042\u308a\u307e\u3059\uff61 \u30e6\u30fc\u30b6\u30fc\u4f01\u696d\u306b\u304a\u3051\u308b\u30b5\u30fc\u30d0\u30ec\u30b9\u30b7\u30b9\u30c6\u30e0\u3078\u306e\u79fb\u884c/JAWS DAYS2018","title":"\u306a\u305c\u4eca\u56deCloud9\u3092\u4f7f\u3046\u304b"},{"location":"setup/cloud9/#cloud9-environment","text":"Warning \u30de\u30cd\u30b8\u30e1\u30f3\u30c8\u30b3\u30f3\u30bd\u30fc\u30eb\u306e\u53f3\u4e0a\u3067\uff64 \u30ea\u30fc\u30b8\u30e7\u30f3\u304c \u6771\u4eac(ap-northeast-1) \u306b\u306a\u3063\u3066\u3044\u308b\u4e8b\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff61 Info Safari\u3067Cloud9\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306b\u306f\uff64 \u30b5\u30a4\u30c8\u8d8a\u3048\u30c8\u30e9\u30c3\u30ad\u30f3\u30b0\u3092\u9632\u3050 \u3068 \u3059\u3079\u3066\u306eCookie\u3092\u30d6\u30ed\u30c3\u30af \u3092\u7121\u52b9\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff61 Mac \u306e Safari \u3067 Cookie \u3068 Web \u30b5\u30a4\u30c8\u306e\u30c7\u30fc\u30bf\u3092\u7ba1\u7406\u3059\u308b AWS Cloud9 \u3092\u958b\u304f Create environment \u3092\u9078\u629e\u3057\u307e\u3059\uff61 \u74b0\u5883\u3092\u8a2d\u5b9a\u3057\uff64 Next step \u3092\u9078\u629e\u3057\u307e\u3059\uff61 Name: sls-hands-on Description: \u4f55\u3082\u5165\u529b\u3057\u306a\u3044 \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u306e\u307e\u307e\uff64 Next step \u3092\u9078\u629e\u3057\u307e\u3059\uff61 Environment type: Create a new instance for environment (EC2) Instance type: t2.micro (1 GiB RAM + 1 vCPU) Platform: Amazon Linux Cost-saving setting: Afrer 30minutes(default) IAM role: AWSServiceRoleForAWSCloud9 \u8a2d\u5b9a\u3092\u78ba\u8a8d\u3057\uff64 Create environment \u3092\u9078\u629e\u3057\u307e\u3059\uff61 Cloud9\u304c\u8d77\u52d5\u3057\u307e\u3059\uff61 Info Cloud9\u3092\u958b\u3044\u3066\u3044\u308b\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u9589\u3058\u3066\u3057\u307e\u3063\u305f\u5834\u5408\u306f\uff64\u518d\u5ea6 AWS Cloud9 \u3092\u958b\u304d\uff64 sls-hands-on \u306e Open IDE \u3092\u9078\u629e\u3057\u307e\u3059\uff61","title":"Cloud9 Environment\u306e\u4f5c\u6210"},{"location":"setup/cloud9/#python3","text":"Cloud9(Amazon Linux)\u3067\u306f\uff64Python3\u7cfb\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u304c\uff64pip\u306fPython2\u7cfb\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff61 2019/09/18\u6642\u70b9\u306e\u78ba\u8a8d python --version # Python 3 . 6 . 8 pip --version # pip 9 . 0 . 3 from / usr / lib / python2 . 7 / dist - packages ( python 2 . 7 ) \u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u306fPython3\u7cfb\u3092\u4f7f\u7528\u3059\u308b\u306e\u3067\uff64\u8a2d\u5b9a\u3092\u5909\u66f4\u3057\u307e\u3059\uff61 \u4e0b\u8a18\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\uff61 sudo update - alternatives --config python Python3\u7cfb\u3092\u9078\u629e\u3057\u307e\u3059\uff61(\u4e0b\u8a18\u306e\u5834\u5408\u306f2) There are 2 programs which provide 'python' . Selection Command ----------------------------------------------- *+ 1 / usr / bin / python2 . 7 2 / usr / bin / python3 . 6 Enter to keep the current selection [ + ], or type selection number : 2 \u30d0\u30fc\u30b8\u30e7\u30f3\u304cPython3\u7cfb\u306b\u306a\u3063\u3066\u3044\u308b\u4e8b\u3092\u78ba\u8a8d\u3057\u307e\u3059\uff61 python --version pip --version (\u4f8b) Python 3 . 6 . 8 pip 9 . 0 . 3 from / usr / lib / python3 . 6 / dist - packages ( python 3 . 6 )","title":"Python3\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a"},{"location":"task/sample-app/","text":"\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4 \u3053\u306e\u8ab2\u984c\u3067\u306f\u30b5\u30f3\u30d7\u30eb\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\uff64\u30c7\u30d7\u30ed\u30a4\u3092\u884c\u3044\u307e\u3059\uff61 \u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u53d6\u5f97 \u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u307e\u3059\uff61 cd ~/environment \u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u53d6\u5f97\u3057\u307e\u3059\uff61 sam init -r python3.6 \u53d6\u5f97\u3067\u304d\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\uff61 ls sam-app (\u4f8b) hello_world README.md template.yaml tests \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210 \u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u6210\u306f\u4e0b\u8a18\u306e\u69d8\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff61 sam-app/ \u251c\u2500\u2500 hello_world # \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u2502 \u251c\u2500\u2500 app.py # Lambda\u95a2\u6570 \u2502 \u251c\u2500\u2500 app.pyc \u2502 \u251c\u2500\u2500 __init__.py \u2502 \u251c\u2500\u2500 __init__.pyc \u2502 \u2514\u2500\u2500 requirements.txt # \u30e9\u30a4\u30d6\u30e9\u30ea\u5b9a\u7fa9 \u251c\u2500\u2500 README.md # \u8aac\u660e \u251c\u2500\u2500 template.yaml # SAM\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8(AWS\u306e\u69cb\u6210\u60c5\u5831) \u2514\u2500\u2500 tests # \u30c6\u30b9\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u2514\u2500\u2500 unit # \u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u251c\u2500\u2500 __init__.py \u251c\u2500\u2500 __init__.pyc \u251c\u2500\u2500 test_handler.py # Lambda\u95a2\u6570\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9 \u2514\u2500\u2500 test_handler.pyc app.py app.py \u306fLambda\u95a2\u6570\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u308b\u30b3\u30fc\u30c9\u3067\u3059\uff61\u884c\u3044\u305f\u3044\u51e6\u7406\u5185\u5bb9\u3092\u8a18\u8f09\u3057\u307e\u3059\uff61 import json import requests # Lambda\u30cf\u30f3\u30c9\u30e9\u30fc def lambda_handler ( event , context ): # \u5b9f\u884c\u51e6\u7406 try : ip = requests . get ( \"http://checkip.amazonaws.com/\" ) except requests . RequestException as e : print ( e ) raise e # \u30ec\u30b9\u30dd\u30f3\u30b9 return { \"statusCode\" : 200 , \"body\" : json . dumps ( { \"message\" : \"hello world\" , \"location\" : ip . text . replace ( \" \\n \" , \"\" )} ), } Lambda\u30cf\u30f3\u30c9\u30e9\u30fc Lambda\u95a2\u6570\u306f\u4f5c\u6210\u3059\u308b\u969b\u306b\uff64\u30cf\u30f3\u30c9\u30e9\u30fc\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u969b\u306b\uff64AWS Lambda\u304c\u3069\u306e\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u304b\u306e\u5ba3\u8a00\u3067\u3059\u3002 \u5f15\u6570\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\uff61 event: \u547c\u3073\u51fa\u3057\u5143\u304b\u3089\u53d7\u3051\u53d6\u308b\u30a4\u30d9\u30f3\u30c8\u30c7\u30fc\u30bf\u3067\u3059\uff61\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u901a\u5e38\uff64Python\u306edict\u578b\u3067\u3059\uff61 \u547c\u3073\u51fa\u3057\u5143\u306b\u3088\u308a\uff64\u69cb\u6210\u306f\u7570\u306a\u308a\u307e\u3059\uff61 context: \u30e9\u30f3\u30bf\u30a4\u30e0\u60c5\u5831\u3067\u3059\uff61(\u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u306f\u53d6\u308a\u6271\u3044\u307e\u305b\u3093\uff61) Python\u306eAWS Lambda\u95a2\u6570\u30cf\u30f3\u30c9\u30e9\u30fc \u5b9f\u884c\u51e6\u7406 Lambda\u5185\u3067\u5b9f\u884c\u3059\u308b\u51e6\u7406\u3092\u66f8\u304d\u307e\u3059\uff61 \u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\uff64 http://checkip.amazonaws.com/ \u3068\u3044\u3046\u30a2\u30af\u30bb\u30b9\u5143\u306e\u30b0\u30ed\u30fc\u30d0\u30ebIP\u30a2\u30c9\u30ec\u30b9\u3092\u30ec\u30b9\u30dd\u30f3\u30b9\u3059\u308b\u30b5\u30a4\u30c8\u3092\u4f7f\u3063\u3066 Lambda\u95a2\u6570\u306e\u30b0\u30ed\u30fc\u30d0\u30ebIP\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\uff61 \u4f8b\u5916(requests.RequestException)\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306f\uff64\u5185\u5bb9\u3092 print \u3067\u51fa\u529b\u3057\u307e\u3059\uff61 Lambda\u95a2\u6570\u306e\u6a19\u6e96\u51fa\u529b\u306f Amazon CloudWatch Logs \u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\uff61 \u30ec\u30b9\u30dd\u30f3\u30b9 Lambda\u95a2\u6570\u304c\u5f8c\u7d9a\u306e\u51e6\u7406\u306b\u8fd4\u3059\u51e6\u7406\u7d50\u679c\u3092\u8a18\u8f09\u3057\u307e\u3059\uff61\u3069\u306e\u30b5\u30fc\u30d3\u30b9\u3068\u9023\u643a\u3059\u308b\u304b\u306b\u3088\u3063\u3066\u623b\u308a\u5024\u306e\u69cb\u6210\u306f\u7570\u306a\u308a\u307e\u3059\uff61 \u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\uff64 Amazon API Gateway \u306b\u8fd4\u3059\u306e\u3067\uff64HTTP\u30ec\u30b9\u30dd\u30f3\u30b9\u5f62\u5f0f\u3067\u3059\uff61 test_handler.py test_handler.py \u306f app.py \u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\uff64\u3064\u307e\u308aLambda\u95a2\u6570\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3067\u3059\uff61 pytest\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\uff61 import json import pytest from collections import namedtuple from hello_world import app # \u30c6\u30b9\u30c8\u30c7\u30fc\u30bf @pytest.fixture () def apigw_event (): return { # \u7701\u7565: API Gateway\u304cLambda\u95a2\u6570\u306b\u6e21\u3059event\u306e\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3067\u3059 } # \u30c6\u30b9\u30c8 def test_lambda_handler ( apigw_event , mocker ): requests_response_mock = namedtuple ( \"response\" , [ \"text\" ]) requests_response_mock . text = \"1.1.1.1 \\n \" request_mock = mocker . patch . object ( app . requests , 'get' , side_effect = requests_response_mock ) ret = app . lambda_handler ( apigw_event , \"\" ) assert ret [ \"statusCode\" ] == 200 for key in ( \"message\" , \"location\" ): assert key in ret [ \"body\" ] data = json . loads ( ret [ \"body\" ]) assert data [ \"message\" ] == \"hello world\" \u30c6\u30b9\u30c8\u30c7\u30fc\u30bf API Gateway\u304cLambda\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u969b\u306eevent\u3092\u30c6\u30b9\u30c8\u69d8\u306b\u751f\u6210\u3057\u3066\u3044\u307e\u3059\uff61 \u30c6\u30b9\u30c8 Lambda\u95a2\u6570\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3067\u3059\uff61 \u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u306a\u306e\u3067\uff64\u5916\u90e8\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u884c\u3046\u7b87\u6240\u306f\u5e38\u306b 1.1.1.1 \u3092\u53d7\u3051\u53d6\u308b\u3088\u3046\u306b\u30e2\u30c3\u30af\u3057\u3066\u3044\u307e\u3059\uff61 \u4ee5\u4e0b\u306e\u30c6\u30b9\u30c8\u3092\u884c\u3063\u3066\u3044\u307e\u3059\uff61 \u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u304c200(OK)\u3067\u3042\u308b \u30ec\u30b9\u30dd\u30f3\u30b9\u30dc\u30c7\u30a3\u306b message , location \u3068\u3044\u3046\u9805\u76ee\u3092\u542b\u3080 \u30ec\u30b9\u30dd\u30f3\u30b9\u30dc\u30c7\u30a3\u306e data \u306f hello world \u3067\u3042\u308b template.yaml SAM(Serverless Application Model) \u306f\u30b5\u30fc\u30d0\u30fc\u30ec\u30b9\u5411\u3051\u306eAWS\u74b0\u5883\u69cb\u7bc9\u306e\u70ba\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\uff61 AWS CloudFormation \u306e\u62e1\u5f35\u3067\uff64 \u30b5\u30fc\u30d0\u30fc\u30ec\u30b9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u5834\u5408\u306f\u3088\u308a\u7c21\u5358\u30fb\u5c11\u306a\u3044\u8a18\u8ff0\u3067\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u3092\u5b9a\u7fa9\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\uff61 SAM\u306fCloudFormation\u306b\u5909\u63db\u3057\u3066\u304b\u3089AWS\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\uff61(AWS\u4e0a\u3067\u306fCloudFormation\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059) \u4e0b\u8a18\u306e\u3088\u3046\u306aSAM\u306e\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u3092 SAM\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 \u3068\u8a00\u3044\u307e\u3059\uff61 AWSTemplateFormatVersion : '2010-09-09' Transform : 'AWS::Serverless-2016-10-31' Description : | sam-app Sample SAM Template for sam-app Globals : Function : Timeout : 3 Resources : HelloWorldFunction : Type : 'AWS::Serverless::Function' Properties : CodeUri : hello_world/ Handler : app.lambda_handler Runtime : python3.6 Environment : Variables : PARAM1 : VALUE Events : HelloWorld : Type : Api Properties : Path : /hello Method : get Description : '' MemorySize : '' Outputs : HelloWorldApi : Description : API Gateway endpoint URL for Prod stage for Hello World function Value : 'Fn::Sub' : >- https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/hello/ HelloWorldFunction : Description : Hello World Lambda Function ARN Value : 'Fn::GetAtt' : - HelloWorldFunction - Arn HelloWorldFunctionIamRole : Description : Implicit IAM Role created for Hello World function Value : 'Fn::GetAtt' : - HelloWorldFunctionRole - Arn Info template.yaml\u3092\u958b\u304f\u3068\u30d5\u30a9\u30fc\u30e0\u304c\u8868\u793a\u3055\u308c\u308b\u5834\u5408\u306f\uff64 View \uff64 Editors \uff64 Ace \u3068\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\uff61 Globals \u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5185\u306e\u30ea\u30bd\u30fc\u30b9\u5168\u4f53\u306b\u9069\u7528\u3059\u308b\u8a2d\u5b9a\u3067\u3059\uff61 Funciton\u306b\u5bfe\u3057\u3066Timeout\u30923(\u79d2)\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\uff61\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u5b9a\u7fa9\u3057\u305fLambda\u95a2\u6570\u306e\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306f3\u79d2\u306b\u8a2d\u5b9a\u3059\u308b\u3068\u3044\u3046\u610f\u5473\u3067\u3059\uff61 \u500b\u3005\u306e\u30ea\u30bd\u30fc\u30b9\u3067\u8a2d\u5b9a\u3057\u305f\u5834\u5408\u306f\uff64\u305d\u306e\u5024\u304c\u512a\u5148\u3055\u308c\u307e\u3059\uff61 Resources \u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9\u3067\u3059\uff61 \u9805\u76ee\u540d \u9805\u76ee\u306e\u8aac\u660e \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u8aac\u660e Type \u4f5c\u6210\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u306e\u7a2e\u985e AWS::Serverless::Function \u306fLambda\u95a2\u6570\u3092\u4f5c\u6210\u3057\u307e\u3059 CodeUri Lambda\u95a2\u6570\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea hello_world/ \u306bLambda\u95a2\u6570\u306e\u30b3\u30fc\u30c9\u306f\u914d\u7f6e\u3055\u308c\u3066\u3044\u307e\u3059 Handler Lambda\u95a2\u6570\u306e\u30cf\u30f3\u30c9\u30e9\u30fc app .py\u306e lambda_handler \u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u305f\u3044\u306e\u3067 app.lambda_handler \u3068\u6307\u5b9a\u3057\u307e\u3059 Runtime Lambda\u5b9f\u884c\u74b0\u5883 Python3.6\u3067\u5b9f\u884c\u3092\u4fdd\u8a3c\u3059\u308b\u30b3\u30fc\u30c9\u306a\u306e\u3067\uff64 python3.6 \u3068\u6307\u5b9a\u3057\u307e\u3059 Environment Lambda\u74b0\u5883\u5909\u6570 \u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u304c\uff64Lambda\u95a2\u6570\u5185\u3067\u306f\u4f7f\u7528\u3057\u3066\u3044\u307e\u305b\u3093 Events Lambda\u547c\u3073\u51fa\u3057\u5143\u306e\u5b9a\u7fa9 API Gateway\u304c /hello \u306b GET \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u305f\u6642Lambda\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059 MemorySize Lambda\u306e\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba MB\u5358\u4f4d\u3067Lambda\u95a2\u6570\u306b\u5272\u308a\u5f53\u3066\u308b\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3057\u307e\u3059(\u7701\u7565\u3059\u308b\u3068\u30c7\u30d5\u30a9\u30eb\u30c8\u5024) \u4e00\u4ef6\u3059\u308b\u3068\uff64\u4f5c\u6210\u3055\u308c\u308b\u30ea\u30bd\u30fc\u30b9\u306fLambda\u95a2\u6570\u3060\u3051\u3068\u6349\u3048\u3066\u3057\u307e\u3044\u304c\u3061\u3067\u3059\u304c\uff64 Events \u3067\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u70ba\uff64API Gateway\u3082\u4f5c\u6210\u3055\u308c\u307e\u3059\uff61","title":"1. \u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4"},{"location":"task/sample-app/#_1","text":"\u3053\u306e\u8ab2\u984c\u3067\u306f\u30b5\u30f3\u30d7\u30eb\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30b3\u30fc\u30c9\u3092\u78ba\u8a8d\u3057\uff64\u30c7\u30d7\u30ed\u30a4\u3092\u884c\u3044\u307e\u3059\uff61","title":"\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30c7\u30d7\u30ed\u30a4"},{"location":"task/sample-app/#_2","text":"\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u79fb\u52d5\u3057\u307e\u3059\uff61 cd ~/environment \u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u53d6\u5f97\u3057\u307e\u3059\uff61 sam init -r python3.6 \u53d6\u5f97\u3067\u304d\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\uff61 ls sam-app (\u4f8b) hello_world README.md template.yaml tests","title":"\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u53d6\u5f97"},{"location":"task/sample-app/#_3","text":"\u30b5\u30f3\u30d7\u30eb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u6210\u306f\u4e0b\u8a18\u306e\u69d8\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff61 sam-app/ \u251c\u2500\u2500 hello_world # \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u2502 \u251c\u2500\u2500 app.py # Lambda\u95a2\u6570 \u2502 \u251c\u2500\u2500 app.pyc \u2502 \u251c\u2500\u2500 __init__.py \u2502 \u251c\u2500\u2500 __init__.pyc \u2502 \u2514\u2500\u2500 requirements.txt # \u30e9\u30a4\u30d6\u30e9\u30ea\u5b9a\u7fa9 \u251c\u2500\u2500 README.md # \u8aac\u660e \u251c\u2500\u2500 template.yaml # SAM\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8(AWS\u306e\u69cb\u6210\u60c5\u5831) \u2514\u2500\u2500 tests # \u30c6\u30b9\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u2514\u2500\u2500 unit # \u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea \u251c\u2500\u2500 __init__.py \u251c\u2500\u2500 __init__.pyc \u251c\u2500\u2500 test_handler.py # Lambda\u95a2\u6570\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9 \u2514\u2500\u2500 test_handler.pyc","title":"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u69cb\u6210"},{"location":"task/sample-app/#apppy","text":"app.py \u306fLambda\u95a2\u6570\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u308b\u30b3\u30fc\u30c9\u3067\u3059\uff61\u884c\u3044\u305f\u3044\u51e6\u7406\u5185\u5bb9\u3092\u8a18\u8f09\u3057\u307e\u3059\uff61 import json import requests # Lambda\u30cf\u30f3\u30c9\u30e9\u30fc def lambda_handler ( event , context ): # \u5b9f\u884c\u51e6\u7406 try : ip = requests . get ( \"http://checkip.amazonaws.com/\" ) except requests . RequestException as e : print ( e ) raise e # \u30ec\u30b9\u30dd\u30f3\u30b9 return { \"statusCode\" : 200 , \"body\" : json . dumps ( { \"message\" : \"hello world\" , \"location\" : ip . text . replace ( \" \\n \" , \"\" )} ), }","title":"app.py"},{"location":"task/sample-app/#lambda","text":"Lambda\u95a2\u6570\u306f\u4f5c\u6210\u3059\u308b\u969b\u306b\uff64\u30cf\u30f3\u30c9\u30e9\u30fc\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u30b3\u30fc\u30c9\u3092\u5b9f\u884c\u3059\u308b\u969b\u306b\uff64AWS Lambda\u304c\u3069\u306e\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u304b\u306e\u5ba3\u8a00\u3067\u3059\u3002 \u5f15\u6570\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059\uff61 event: \u547c\u3073\u51fa\u3057\u5143\u304b\u3089\u53d7\u3051\u53d6\u308b\u30a4\u30d9\u30f3\u30c8\u30c7\u30fc\u30bf\u3067\u3059\uff61\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u901a\u5e38\uff64Python\u306edict\u578b\u3067\u3059\uff61 \u547c\u3073\u51fa\u3057\u5143\u306b\u3088\u308a\uff64\u69cb\u6210\u306f\u7570\u306a\u308a\u307e\u3059\uff61 context: \u30e9\u30f3\u30bf\u30a4\u30e0\u60c5\u5831\u3067\u3059\uff61(\u30cf\u30f3\u30ba\u30aa\u30f3\u3067\u306f\u53d6\u308a\u6271\u3044\u307e\u305b\u3093\uff61) Python\u306eAWS Lambda\u95a2\u6570\u30cf\u30f3\u30c9\u30e9\u30fc","title":"Lambda\u30cf\u30f3\u30c9\u30e9\u30fc"},{"location":"task/sample-app/#_4","text":"Lambda\u5185\u3067\u5b9f\u884c\u3059\u308b\u51e6\u7406\u3092\u66f8\u304d\u307e\u3059\uff61 \u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\uff64 http://checkip.amazonaws.com/ \u3068\u3044\u3046\u30a2\u30af\u30bb\u30b9\u5143\u306e\u30b0\u30ed\u30fc\u30d0\u30ebIP\u30a2\u30c9\u30ec\u30b9\u3092\u30ec\u30b9\u30dd\u30f3\u30b9\u3059\u308b\u30b5\u30a4\u30c8\u3092\u4f7f\u3063\u3066 Lambda\u95a2\u6570\u306e\u30b0\u30ed\u30fc\u30d0\u30ebIP\u30a2\u30c9\u30ec\u30b9\u3092\u53d6\u5f97\u3057\u3066\u3044\u307e\u3059\uff61 \u4f8b\u5916(requests.RequestException)\u304c\u767a\u751f\u3057\u305f\u5834\u5408\u306f\uff64\u5185\u5bb9\u3092 print \u3067\u51fa\u529b\u3057\u307e\u3059\uff61 Lambda\u95a2\u6570\u306e\u6a19\u6e96\u51fa\u529b\u306f Amazon CloudWatch Logs \u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\uff61","title":"\u5b9f\u884c\u51e6\u7406"},{"location":"task/sample-app/#_5","text":"Lambda\u95a2\u6570\u304c\u5f8c\u7d9a\u306e\u51e6\u7406\u306b\u8fd4\u3059\u51e6\u7406\u7d50\u679c\u3092\u8a18\u8f09\u3057\u307e\u3059\uff61\u3069\u306e\u30b5\u30fc\u30d3\u30b9\u3068\u9023\u643a\u3059\u308b\u304b\u306b\u3088\u3063\u3066\u623b\u308a\u5024\u306e\u69cb\u6210\u306f\u7570\u306a\u308a\u307e\u3059\uff61 \u3053\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306f\uff64 Amazon API Gateway \u306b\u8fd4\u3059\u306e\u3067\uff64HTTP\u30ec\u30b9\u30dd\u30f3\u30b9\u5f62\u5f0f\u3067\u3059\uff61","title":"\u30ec\u30b9\u30dd\u30f3\u30b9"},{"location":"task/sample-app/#test_handlerpy","text":"test_handler.py \u306f app.py \u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\uff64\u3064\u307e\u308aLambda\u95a2\u6570\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3067\u3059\uff61 pytest\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\uff61 import json import pytest from collections import namedtuple from hello_world import app # \u30c6\u30b9\u30c8\u30c7\u30fc\u30bf @pytest.fixture () def apigw_event (): return { # \u7701\u7565: API Gateway\u304cLambda\u95a2\u6570\u306b\u6e21\u3059event\u306e\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf\u3067\u3059 } # \u30c6\u30b9\u30c8 def test_lambda_handler ( apigw_event , mocker ): requests_response_mock = namedtuple ( \"response\" , [ \"text\" ]) requests_response_mock . text = \"1.1.1.1 \\n \" request_mock = mocker . patch . object ( app . requests , 'get' , side_effect = requests_response_mock ) ret = app . lambda_handler ( apigw_event , \"\" ) assert ret [ \"statusCode\" ] == 200 for key in ( \"message\" , \"location\" ): assert key in ret [ \"body\" ] data = json . loads ( ret [ \"body\" ]) assert data [ \"message\" ] == \"hello world\"","title":"test_handler.py"},{"location":"task/sample-app/#_6","text":"API Gateway\u304cLambda\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u969b\u306eevent\u3092\u30c6\u30b9\u30c8\u69d8\u306b\u751f\u6210\u3057\u3066\u3044\u307e\u3059\uff61","title":"\u30c6\u30b9\u30c8\u30c7\u30fc\u30bf"},{"location":"task/sample-app/#_7","text":"Lambda\u95a2\u6570\u306e\u30c6\u30b9\u30c8\u30b3\u30fc\u30c9\u3067\u3059\uff61 \u30e6\u30cb\u30c3\u30c8\u30c6\u30b9\u30c8\u306a\u306e\u3067\uff64\u5916\u90e8\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u884c\u3046\u7b87\u6240\u306f\u5e38\u306b 1.1.1.1 \u3092\u53d7\u3051\u53d6\u308b\u3088\u3046\u306b\u30e2\u30c3\u30af\u3057\u3066\u3044\u307e\u3059\uff61 \u4ee5\u4e0b\u306e\u30c6\u30b9\u30c8\u3092\u884c\u3063\u3066\u3044\u307e\u3059\uff61 \u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\u304c200(OK)\u3067\u3042\u308b \u30ec\u30b9\u30dd\u30f3\u30b9\u30dc\u30c7\u30a3\u306b message , location \u3068\u3044\u3046\u9805\u76ee\u3092\u542b\u3080 \u30ec\u30b9\u30dd\u30f3\u30b9\u30dc\u30c7\u30a3\u306e data \u306f hello world \u3067\u3042\u308b","title":"\u30c6\u30b9\u30c8"},{"location":"task/sample-app/#templateyaml","text":"SAM(Serverless Application Model) \u306f\u30b5\u30fc\u30d0\u30fc\u30ec\u30b9\u5411\u3051\u306eAWS\u74b0\u5883\u69cb\u7bc9\u306e\u70ba\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\uff61 AWS CloudFormation \u306e\u62e1\u5f35\u3067\uff64 \u30b5\u30fc\u30d0\u30fc\u30ec\u30b9\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u69cb\u7bc9\u3059\u308b\u5834\u5408\u306f\u3088\u308a\u7c21\u5358\u30fb\u5c11\u306a\u3044\u8a18\u8ff0\u3067\u30a4\u30f3\u30d5\u30e9\u30b9\u30c8\u30e9\u30af\u30c1\u30e3\u30fc\u3092\u5b9a\u7fa9\u3059\u308b\u4e8b\u304c\u53ef\u80fd\u3067\u3059\uff61 SAM\u306fCloudFormation\u306b\u5909\u63db\u3057\u3066\u304b\u3089AWS\u306b\u30c7\u30d7\u30ed\u30a4\u3057\u307e\u3059\uff61(AWS\u4e0a\u3067\u306fCloudFormation\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059) \u4e0b\u8a18\u306e\u3088\u3046\u306aSAM\u306e\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u3092 SAM\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 \u3068\u8a00\u3044\u307e\u3059\uff61 AWSTemplateFormatVersion : '2010-09-09' Transform : 'AWS::Serverless-2016-10-31' Description : | sam-app Sample SAM Template for sam-app Globals : Function : Timeout : 3 Resources : HelloWorldFunction : Type : 'AWS::Serverless::Function' Properties : CodeUri : hello_world/ Handler : app.lambda_handler Runtime : python3.6 Environment : Variables : PARAM1 : VALUE Events : HelloWorld : Type : Api Properties : Path : /hello Method : get Description : '' MemorySize : '' Outputs : HelloWorldApi : Description : API Gateway endpoint URL for Prod stage for Hello World function Value : 'Fn::Sub' : >- https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/hello/ HelloWorldFunction : Description : Hello World Lambda Function ARN Value : 'Fn::GetAtt' : - HelloWorldFunction - Arn HelloWorldFunctionIamRole : Description : Implicit IAM Role created for Hello World function Value : 'Fn::GetAtt' : - HelloWorldFunctionRole - Arn Info template.yaml\u3092\u958b\u304f\u3068\u30d5\u30a9\u30fc\u30e0\u304c\u8868\u793a\u3055\u308c\u308b\u5834\u5408\u306f\uff64 View \uff64 Editors \uff64 Ace \u3068\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\uff61","title":"template.yaml"},{"location":"task/sample-app/#globals","text":"\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5185\u306e\u30ea\u30bd\u30fc\u30b9\u5168\u4f53\u306b\u9069\u7528\u3059\u308b\u8a2d\u5b9a\u3067\u3059\uff61 Funciton\u306b\u5bfe\u3057\u3066Timeout\u30923(\u79d2)\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\uff61\u3053\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u5b9a\u7fa9\u3057\u305fLambda\u95a2\u6570\u306e\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u306f3\u79d2\u306b\u8a2d\u5b9a\u3059\u308b\u3068\u3044\u3046\u610f\u5473\u3067\u3059\uff61 \u500b\u3005\u306e\u30ea\u30bd\u30fc\u30b9\u3067\u8a2d\u5b9a\u3057\u305f\u5834\u5408\u306f\uff64\u305d\u306e\u5024\u304c\u512a\u5148\u3055\u308c\u307e\u3059\uff61","title":"Globals"},{"location":"task/sample-app/#resources","text":"\u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9\u3067\u3059\uff61 \u9805\u76ee\u540d \u9805\u76ee\u306e\u8aac\u660e \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u8aac\u660e Type \u4f5c\u6210\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u306e\u7a2e\u985e AWS::Serverless::Function \u306fLambda\u95a2\u6570\u3092\u4f5c\u6210\u3057\u307e\u3059 CodeUri Lambda\u95a2\u6570\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea hello_world/ \u306bLambda\u95a2\u6570\u306e\u30b3\u30fc\u30c9\u306f\u914d\u7f6e\u3055\u308c\u3066\u3044\u307e\u3059 Handler Lambda\u95a2\u6570\u306e\u30cf\u30f3\u30c9\u30e9\u30fc app .py\u306e lambda_handler \u95a2\u6570\u3092\u547c\u3073\u51fa\u3057\u305f\u3044\u306e\u3067 app.lambda_handler \u3068\u6307\u5b9a\u3057\u307e\u3059 Runtime Lambda\u5b9f\u884c\u74b0\u5883 Python3.6\u3067\u5b9f\u884c\u3092\u4fdd\u8a3c\u3059\u308b\u30b3\u30fc\u30c9\u306a\u306e\u3067\uff64 python3.6 \u3068\u6307\u5b9a\u3057\u307e\u3059 Environment Lambda\u74b0\u5883\u5909\u6570 \u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u304c\uff64Lambda\u95a2\u6570\u5185\u3067\u306f\u4f7f\u7528\u3057\u3066\u3044\u307e\u305b\u3093 Events Lambda\u547c\u3073\u51fa\u3057\u5143\u306e\u5b9a\u7fa9 API Gateway\u304c /hello \u306b GET \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u305f\u6642Lambda\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059 MemorySize Lambda\u306e\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba MB\u5358\u4f4d\u3067Lambda\u95a2\u6570\u306b\u5272\u308a\u5f53\u3066\u308b\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3092\u6307\u5b9a\u3057\u307e\u3059(\u7701\u7565\u3059\u308b\u3068\u30c7\u30d5\u30a9\u30eb\u30c8\u5024) \u4e00\u4ef6\u3059\u308b\u3068\uff64\u4f5c\u6210\u3055\u308c\u308b\u30ea\u30bd\u30fc\u30b9\u306fLambda\u95a2\u6570\u3060\u3051\u3068\u6349\u3048\u3066\u3057\u307e\u3044\u304c\u3061\u3067\u3059\u304c\uff64 Events \u3067\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u70ba\uff64API Gateway\u3082\u4f5c\u6210\u3055\u308c\u307e\u3059\uff61","title":"Resources"}]}